create table oauth_tokens (created_at timestamp(6) with time zone not null, expires_at timestamp(6) with time zone not null, id bigint generated by default as identity, updated_at timestamp(6) with time zone, user_id bigint not null, access_token varchar(255) not null, provider varchar(255) not null, refresh_token varchar(255) not null, primary key (id));
create table profile_settings (id bigint generated by default as identity, user_id bigint not null unique, avatar_image varchar(255) not null, banner_image varchar(255) not null, bio varchar(255) not null, social_links jsonb not null, primary key (id));
create table stream_sessions (is_live boolean not null, ended_at timestamp(6) with time zone, id bigint generated by default as identity, started_at timestamp(6) with time zone not null, user_id bigint not null, primary key (id));
create table stream_settings (game_category_id bigint not null, id bigint generated by default as identity, user_id bigint not null unique, stream_description varchar(255), stream_title varchar(255) not null, tags varchar(255), primary key (id));
create table streamer_stats (followers_count bigint not null, id bigint generated by default as identity, last_updated timestamp(6) with time zone, stream_end_hour timestamp(6) with time zone not null, stream_start_hour timestamp(6) with time zone not null, twitch_user_id bigint not null, viewers_avg bigint not null, primary key (id));
create table twitch_accounts (created_at timestamp(6) with time zone not null, id bigint generated by default as identity, twitch_user_id bigint not null unique, updated_at timestamp(6) with time zone, user_id bigint not null unique, display_name varchar(255) not null, profile_image_url varchar(255) not null, twitch_login varchar(255) not null, primary key (id));
create table users (created_at timestamp(6) with time zone not null, id bigint generated by default as identity, updated_at timestamp(6) with time zone, email varchar(255) not null unique, password_hash varchar(255), username varchar(255) not null, primary key (id));
alter table if exists oauth_tokens add constraint FKo3ygyue8ry6098fk4tatyskce foreign key (user_id) references users;
alter table if exists profile_settings add constraint FKgsi7u7r0mhn3txtxqlbmwa08s foreign key (user_id) references users;
alter table if exists stream_sessions add constraint FKe4c78o60pqi3vxov3fxla1syl foreign key (user_id) references users;
alter table if exists stream_settings add constraint FKpb7eghwp35ocws9ax2anxbgyj foreign key (user_id) references users;
alter table if exists twitch_accounts add constraint FK5t3m55tfi2utlms4qdrqiuet foreign key (user_id) references users;
create table oauth_tokens (created_at timestamp(6) with time zone not null, expires_at timestamp(6) with time zone not null, id bigint generated by default as identity, updated_at timestamp(6) with time zone, user_id bigint not null, access_token varchar(255) not null, provider varchar(255) not null, refresh_token varchar(255) not null, primary key (id));
create table profile_settings (id bigint generated by default as identity, user_id bigint not null unique, avatar_image varchar(255) not null, banner_image varchar(255) not null, bio varchar(255) not null, social_links jsonb not null, primary key (id));
create table stream_sessions (is_live boolean not null, ended_at timestamp(6) with time zone, id bigint generated by default as identity, started_at timestamp(6) with time zone not null, user_id bigint not null, primary key (id));
create table stream_settings (game_category_id bigint not null, id bigint generated by default as identity, user_id bigint not null unique, stream_description varchar(255), stream_title varchar(255) not null, tags varchar(255), primary key (id));
create table streamer_stats (followers_count bigint not null, id bigint generated by default as identity, last_updated timestamp(6) with time zone, stream_end_hour timestamp(6) with time zone not null, stream_start_hour timestamp(6) with time zone not null, twitch_user_id bigint not null, viewers_avg bigint not null, primary key (id));
create table twitch_accounts (created_at timestamp(6) with time zone not null, id bigint generated by default as identity, twitch_user_id bigint not null unique, updated_at timestamp(6) with time zone, user_id bigint not null unique, display_name varchar(255) not null, profile_image_url varchar(255) not null, twitch_login varchar(255) not null, primary key (id));
create table users (created_at timestamp(6) with time zone not null, id bigint generated by default as identity, updated_at timestamp(6) with time zone, email varchar(255) not null unique, password_hash varchar(255), username varchar(255) not null, primary key (id));
alter table if exists oauth_tokens add constraint FKo3ygyue8ry6098fk4tatyskce foreign key (user_id) references users;
alter table if exists profile_settings add constraint FKgsi7u7r0mhn3txtxqlbmwa08s foreign key (user_id) references users;
alter table if exists stream_sessions add constraint FKe4c78o60pqi3vxov3fxla1syl foreign key (user_id) references users;
alter table if exists stream_settings add constraint FKpb7eghwp35ocws9ax2anxbgyj foreign key (user_id) references users;
alter table if exists twitch_accounts add constraint FK5t3m55tfi2utlms4qdrqiuet foreign key (user_id) references users;
create table oauth_tokens (created_at timestamp(6) with time zone not null, expires_at timestamp(6) with time zone not null, id bigint generated by default as identity, updated_at timestamp(6) with time zone, user_id bigint not null, access_token varchar(255) not null, provider varchar(255) not null, refresh_token varchar(255) not null, primary key (id));
create table profile_settings (id bigint generated by default as identity, user_id bigint not null unique, avatar_image varchar(255) not null, banner_image varchar(255) not null, bio varchar(255) not null, social_links jsonb not null, primary key (id));
create table stream_sessions (is_live boolean not null, ended_at timestamp(6) with time zone, id bigint generated by default as identity, started_at timestamp(6) with time zone not null, user_id bigint not null, primary key (id));
create table stream_settings (game_category_id bigint not null, id bigint generated by default as identity, user_id bigint not null unique, stream_description varchar(255), stream_title varchar(255) not null, tags varchar(255), primary key (id));
create table streamer_stats (followers_count bigint not null, id bigint generated by default as identity, last_updated timestamp(6) with time zone, stream_end_hour timestamp(6) with time zone not null, stream_start_hour timestamp(6) with time zone not null, twitch_user_id bigint not null, viewers_avg bigint not null, primary key (id));
create table twitch_accounts (created_at timestamp(6) with time zone not null, id bigint generated by default as identity, twitch_user_id bigint not null unique, updated_at timestamp(6) with time zone, user_id bigint not null unique, display_name varchar(255) not null, profile_image_url varchar(255) not null, twitch_login varchar(255) not null, primary key (id));
create table users (created_at timestamp(6) with time zone not null, id bigint generated by default as identity, updated_at timestamp(6) with time zone, email varchar(255) not null unique, password_hash varchar(255), username varchar(255) not null, primary key (id));
alter table if exists oauth_tokens add constraint FKo3ygyue8ry6098fk4tatyskce foreign key (user_id) references users;
alter table if exists profile_settings add constraint FKgsi7u7r0mhn3txtxqlbmwa08s foreign key (user_id) references users;
alter table if exists stream_sessions add constraint FKe4c78o60pqi3vxov3fxla1syl foreign key (user_id) references users;
alter table if exists stream_settings add constraint FKpb7eghwp35ocws9ax2anxbgyj foreign key (user_id) references users;
alter table if exists twitch_accounts add constraint FK5t3m55tfi2utlms4qdrqiuet foreign key (user_id) references users;
create table oauth_tokens (created_at timestamp(6) with time zone not null, expires_at timestamp(6) with time zone not null, id bigint generated by default as identity, updated_at timestamp(6) with time zone, user_id bigint not null, access_token varchar(255) not null, provider varchar(255) not null, refresh_token varchar(255) not null, primary key (id));
create table profile_settings (id bigint generated by default as identity, user_id bigint not null unique, avatar_image varchar(255) not null, banner_image varchar(255) not null, bio varchar(255) not null, social_links jsonb not null, primary key (id));
create table stream_sessions (is_live boolean not null, ended_at timestamp(6) with time zone, id bigint generated by default as identity, started_at timestamp(6) with time zone not null, user_id bigint not null, primary key (id));
create table stream_settings (game_category_id bigint not null, id bigint generated by default as identity, user_id bigint not null unique, stream_description varchar(255), stream_title varchar(255) not null, tags varchar(255), primary key (id));
create table streamer_stats (followers_count bigint not null, id bigint generated by default as identity, last_updated timestamp(6) with time zone, stream_end_hour timestamp(6) with time zone not null, stream_start_hour timestamp(6) with time zone not null, twitch_user_id bigint not null, viewers_avg bigint not null, primary key (id));
create table twitch_accounts (created_at timestamp(6) with time zone not null, id bigint generated by default as identity, twitch_user_id bigint not null unique, updated_at timestamp(6) with time zone, user_id bigint not null unique, display_name varchar(255) not null, profile_image_url varchar(255) not null, twitch_login varchar(255) not null, primary key (id));
create table users (created_at timestamp(6) with time zone not null, id bigint generated by default as identity, updated_at timestamp(6) with time zone, email varchar(255) not null unique, password_hash varchar(255), username varchar(255) not null, primary key (id));
alter table if exists oauth_tokens add constraint FKo3ygyue8ry6098fk4tatyskce foreign key (user_id) references users;
alter table if exists profile_settings add constraint FKgsi7u7r0mhn3txtxqlbmwa08s foreign key (user_id) references users;
alter table if exists stream_sessions add constraint FKe4c78o60pqi3vxov3fxla1syl foreign key (user_id) references users;
alter table if exists stream_settings add constraint FKpb7eghwp35ocws9ax2anxbgyj foreign key (user_id) references users;
alter table if exists twitch_accounts add constraint FK5t3m55tfi2utlms4qdrqiuet foreign key (user_id) references users;
create table oauth_tokens (created_at timestamp(6) with time zone not null, expires_at timestamp(6) with time zone not null, id bigint generated by default as identity, updated_at timestamp(6) with time zone, user_id bigint not null, access_token varchar(255) not null, provider varchar(255) not null, refresh_token varchar(255) not null, primary key (id));
create table profile_settings (id bigint generated by default as identity, user_id bigint not null unique, avatar_image varchar(255) not null, banner_image varchar(255) not null, bio varchar(255) not null, social_links jsonb not null, primary key (id));
create table stream_sessions (is_live boolean not null, ended_at timestamp(6) with time zone, id bigint generated by default as identity, started_at timestamp(6) with time zone not null, user_id bigint not null, primary key (id));
create table stream_settings (game_category_id bigint not null, id bigint generated by default as identity, user_id bigint not null unique, stream_description varchar(255), stream_title varchar(255) not null, tags varchar(255), primary key (id));
create table streamer_stats (followers_count bigint not null, id bigint generated by default as identity, last_updated timestamp(6) with time zone, stream_end_hour timestamp(6) with time zone not null, stream_start_hour timestamp(6) with time zone not null, twitch_user_id bigint not null, viewers_avg bigint not null, primary key (id));
create table twitch_accounts (created_at timestamp(6) with time zone not null, id bigint generated by default as identity, twitch_user_id bigint not null unique, updated_at timestamp(6) with time zone, user_id bigint not null unique, display_name varchar(255) not null, profile_image_url varchar(255) not null, twitch_login varchar(255) not null, primary key (id));
create table users (created_at timestamp(6) with time zone not null, id bigint generated by default as identity, updated_at timestamp(6) with time zone, email varchar(255) not null unique, password_hash varchar(255), username varchar(255) not null, primary key (id));
alter table if exists oauth_tokens add constraint FKo3ygyue8ry6098fk4tatyskce foreign key (user_id) references users;
alter table if exists profile_settings add constraint FKgsi7u7r0mhn3txtxqlbmwa08s foreign key (user_id) references users;
alter table if exists stream_sessions add constraint FKe4c78o60pqi3vxov3fxla1syl foreign key (user_id) references users;
alter table if exists stream_settings add constraint FKpb7eghwp35ocws9ax2anxbgyj foreign key (user_id) references users;
alter table if exists twitch_accounts add constraint FK5t3m55tfi2utlms4qdrqiuet foreign key (user_id) references users;
create table oauth_tokens (created_at timestamp(6) with time zone not null, expires_at timestamp(6) with time zone not null, id bigint generated by default as identity, updated_at timestamp(6) with time zone, user_id bigint not null, access_token varchar(255) not null, provider varchar(255) not null, refresh_token varchar(255) not null, primary key (id));
create table profile_settings (id bigint generated by default as identity, user_id bigint not null unique, avatar_image varchar(255) not null, banner_image varchar(255) not null, bio varchar(255) not null, social_links jsonb not null, primary key (id));
create table stream_sessions (is_live boolean not null, ended_at timestamp(6) with time zone, id bigint generated by default as identity, started_at timestamp(6) with time zone not null, user_id bigint not null, primary key (id));
create table stream_settings (game_category_id bigint not null, id bigint generated by default as identity, user_id bigint not null unique, stream_description varchar(255), stream_title varchar(255) not null, tags varchar(255), primary key (id));
create table streamer_stats (followers_count bigint not null, id bigint generated by default as identity, last_updated timestamp(6) with time zone, stream_end_hour timestamp(6) with time zone not null, stream_start_hour timestamp(6) with time zone not null, twitch_user_id bigint not null, viewers_avg bigint not null, primary key (id));
create table twitch_accounts (created_at timestamp(6) with time zone not null, id bigint generated by default as identity, twitch_user_id bigint not null unique, updated_at timestamp(6) with time zone, user_id bigint not null unique, display_name varchar(255) not null, profile_image_url varchar(255) not null, twitch_login varchar(255) not null, primary key (id));
create table users (created_at timestamp(6) with time zone not null, id bigint generated by default as identity, updated_at timestamp(6) with time zone, email varchar(255) not null unique, password_hash varchar(255), username varchar(255) not null, primary key (id));
alter table if exists oauth_tokens add constraint FKo3ygyue8ry6098fk4tatyskce foreign key (user_id) references users;
alter table if exists profile_settings add constraint FKgsi7u7r0mhn3txtxqlbmwa08s foreign key (user_id) references users;
alter table if exists stream_sessions add constraint FKe4c78o60pqi3vxov3fxla1syl foreign key (user_id) references users;
alter table if exists stream_settings add constraint FKpb7eghwp35ocws9ax2anxbgyj foreign key (user_id) references users;
alter table if exists twitch_accounts add constraint FK5t3m55tfi2utlms4qdrqiuet foreign key (user_id) references users;
